@prefix : <https://www.w3.org/2019/wot/modbus#> .
@prefix om: <http://www.ontology-of-units-of-measure.org/resource/om-2/> .
@prefix dct: <http://purl.org/dc/terms/> .
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix xml: <http://www.w3.org/XML/1998/namespace> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix vann: <http://purl.org/vocab/vann/> .
@prefix schema: <http://schema.org/> .
@prefix binding: <https://www.w3.org/2019/wot/binding#> .
@base <https://www.w3.org/2019/wot/modbus> .

<https://www.w3.org/2019/wot/modbus> rdf:type owl:Ontology ;
                                      dct:author "Jakob Müller https://github.com/Drukob" ;
                                      dct:contributor "Cristiano Aguzzi https://github.com/relu91" ,
                                                      "Elisa Riforgiato https://github.com/elithkob" ,
                                                      "Jakob Müller https://github.com/Drukob" ,
                                                      "Luca Roffia https://github.com/lroffia" ;
                                      vann:preferredNamespacePrefix "modbus" ;
                                      vann:preferredNamespaceUri : ;
                                      rdfs:comment "Vocabulary to represent Modbus messages in RDF."@en ;
                                      rdfs:label "Modbus in RDF"@en .

#################################################################
#    Annotation properties
#################################################################

###  http://purl.org/dc/terms/author
dct:author rdf:type owl:AnnotationProperty .


###  http://purl.org/dc/terms/contributor
dct:contributor rdf:type owl:AnnotationProperty .


###  http://purl.org/vocab/vann/preferredNamespacePrefix
vann:preferredNamespacePrefix rdf:type owl:AnnotationProperty .


###  http://purl.org/vocab/vann/preferredNamespaceUri
vann:preferredNamespaceUri rdf:type owl:AnnotationProperty .


###  http://schema.org/name
schema:name rdf:type owl:AnnotationProperty .


###  http://www.ontology-of-units-of-measure.org/resource/om-2/usesUnit
om:usesUnit rdf:type owl:AnnotationProperty .


###  https://www.w3.org/2019/wot/binding#assignment
binding:assignment rdf:type owl:AnnotationProperty .


###  https://www.w3.org/2019/wot/modbus#writeValue
:writeValue rdf:type owl:AnnotationProperty ;
            rdfs:range xsd:integer ;
            rdfs:domain :RequestOption .


#################################################################
#    Datatypes
#################################################################

###  https://www.w3.org/2019/wot/modbus#RequestOption
:RequestOption rdf:type rdfs:Datatype .


#################################################################
#    Object Properties
#################################################################

###  https://www.w3.org/2019/wot/modbus#hasDataRequest
:hasDataRequest rdf:type owl:ObjectProperty ;
                rdfs:domain :Request ;
                rdfs:range :data_request ;
                rdfs:label "hasDataRequest" .


###  https://www.w3.org/2019/wot/modbus#hasDataResponse
:hasDataResponse rdf:type owl:ObjectProperty ;
                 rdfs:domain :normal_response ;
                 rdfs:range :data_response ;
                 rdfs:label "hasDataResponse" .


###  https://www.w3.org/2019/wot/modbus#hasEntity
:hasEntity rdf:type owl:ObjectProperty ;
           rdfs:domain :Request ;
           rdfs:range :Entity ;
           rdfs:comment "A registry type to let the runtime automatically detect the right function code"@en ;
           rdfs:isDefinedBy <https://www.w3.org/2019/wot/modbus> ;
           rdfs:label "hasEntity" .


###  https://www.w3.org/2019/wot/modbus#hasExceptionCode
:hasExceptionCode rdf:type owl:ObjectProperty ;
                  rdfs:domain :exception_response ;
                  rdfs:range :ResponseCode ;
                  rdfs:label "hasExceptionCode" .


###  https://www.w3.org/2019/wot/modbus#hasExceptionFunction
:hasExceptionFunction rdf:type owl:ObjectProperty ;
                      rdfs:domain :exception_response ;
                      rdfs:range :erorr_code ;
                      rdfs:label "hasExceptionFunction" .


###  https://www.w3.org/2019/wot/modbus#hasFunction
:hasFunction rdf:type owl:ObjectProperty ;
             rdfs:domain :Request ,
                         :normal_response ;
             rdfs:range :Function ;
             rdfs:comment "Function Code sent by the master in every request. Specifying the desired interaction."@en ;
             rdfs:isDefinedBy <https://www.w3.org/2019/wot/modbus> ;
             rdfs:label "hasFunction"@en .


###  https://www.w3.org/2019/wot/modbus#readFrom
:readFrom rdf:type owl:ObjectProperty ;
          rdfs:domain :Function ;
          rdfs:range :Entity ;
          owl:propertyDisjointWith :writesOn ;
          rdfs:label "readFrom" .


###  https://www.w3.org/2019/wot/modbus#writesOn
:writesOn rdf:type owl:ObjectProperty ;
          rdfs:domain :Function ;
          rdfs:range :Entity ;
          rdfs:label "writesOn" .


#################################################################
#    Data properties
#################################################################

###  https://www.w3.org/2019/wot/modbus#hasAddress
:hasAddress rdf:type owl:DatatypeProperty ;
            rdfs:range xsd:integer ;
            rdfs:comment "Specifies the starting address of the modbus operations"@en ;
            rdfs:label "hasAddress"@en ;
            binding:assignment binding:required .


###  https://www.w3.org/2019/wot/modbus#hasCodeNumber
:hasCodeNumber rdf:type owl:DatatypeProperty ;
               rdfs:range xsd:integer ;
               rdfs:comment "A Modbus function/exception code number"@en ;
               rdfs:label "hasCodeNumber"@en .


###  https://www.w3.org/2019/wot/modbus#hasPollingTime
:hasPollingTime rdf:type owl:DatatypeProperty ;
                rdfs:range xsd:integer ;
                om:usesUnit om:milliseconds ;
                rdfs:comment "Modbus TCP maximum polling rate. The Modbus specification does not define a maximum or minimum allowed polling rate, however specific implementations might introduce such limits. Defined as integer of milliseconds." ;
                rdfs:label "hasPollingTime"@en .


###  https://www.w3.org/2019/wot/modbus#hasQuantity
:hasQuantity rdf:type owl:DatatypeProperty ;
             rdfs:range xsd:integer ;
             rdfs:comment "Specifies the amount of either registers or coils to be read/written"@en ;
             rdfs:label "hasQuantity"@en .


###  https://www.w3.org/2019/wot/modbus#hasTimeout
:hasTimeout rdf:type owl:DatatypeProperty ;
            rdfs:range xsd:integer ;
            om:usesUnit om:milliseconds ;
            rdfs:comment "Modbus response maximum waiting time. Defines how much time the runtime should wait until it receives a reply from the device." ;
            rdfs:label "hasTimeout"@en .


###  https://www.w3.org/2019/wot/modbus#hasUnitID
:hasUnitID rdf:type owl:DatatypeProperty ;
           rdfs:range xsd:integer ;
           rdfs:comment "The Unit ID is usually not needed for ModbusTCP, since the IP-address works as unique identifier, but for compability reasons still often included" ;
           rdfs:label "hasUnitID"@en .


###  https://www.w3.org/2019/wot/modbus#hasZeroBasedAddressingFlag
:hasZeroBasedAddressingFlag rdf:type owl:DatatypeProperty ;
                            rdfs:range xsd:boolean ;
                            rdfs:comment "Modbus implementations can differ in the way addressing works, as the first coil/register can be either referred to as True or False."@en ;
                            rdfs:label "hasZeroBasedAddressingFlag"@en .


###  https://www.w3.org/2019/wot/modbus#writeValue
:writeValue rdf:type owl:DatatypeProperty .


#################################################################
#    Classes
#################################################################

###  http://www.w3.org/2001/XMLSchema#string
xsd:string rdf:type owl:Class .


###  https://www.w3.org/2019/wot/modbus#Data_Field
:Data_Field rdf:type owl:Class ;
            rdfs:subClassOf :Payload ;
            rdfs:comment "The Data Field of a Modbus messages can contain different kind of informations: additional informations that the server uses to take the action defined by the function code (data request), informations regarded the performed action requested by the client (data response), informations about the reason of the error (exception code)."@en ;
            rdfs:label "Data Field" .


###  https://www.w3.org/2019/wot/modbus#Entity
:Entity rdf:type owl:Class ;
        owl:equivalentClass [ rdf:type owl:Class ;
                              owl:oneOf ( :Coil
                                          :DiscreteInput
                                          :HoldingRegister
                                          :InputRegister
                                        )
                            ] ;
        rdfs:comment "A Modbus registry type"@en ;
        rdfs:label "Entity"@en .


###  https://www.w3.org/2019/wot/modbus#Function
:Function rdf:type owl:Class ;
          owl:equivalentClass [ rdf:type owl:Class ;
                                owl:oneOf ( <https://www.w3.org/2019/wot/modbus/functionCode#readCoil>
                                            <https://www.w3.org/2019/wot/modbus/functionCode#readDevicieIdentification>
                                            <https://www.w3.org/2019/wot/modbus/functionCode#readDiscreteInput>
                                            <https://www.w3.org/2019/wot/modbus/functionCode#readHoldingRegisters>
                                            <https://www.w3.org/2019/wot/modbus/functionCode#readInputRegisters>
                                            <https://www.w3.org/2019/wot/modbus/functionCode#writeMultipleCoils>
                                            <https://www.w3.org/2019/wot/modbus/functionCode#writeMultipleHoldingRegisters>
                                            <https://www.w3.org/2019/wot/modbus/functionCode#writeSingleCoil>
                                            <https://www.w3.org/2019/wot/modbus/functionCode#writeSingleHoldingRegister>
                                          )
                              ] ;
          rdfs:subClassOf :Function_Field ;
          rdfs:comment "Function code identifies the operation requested by client, indicates to the server what kind of action to perform. For a normal response, the server simply echoes to the request the original function code."@en ;
          rdfs:label "function"@en .


###  https://www.w3.org/2019/wot/modbus#Function_Field
:Function_Field rdf:type owl:Class ;
                rdfs:subClassOf :Payload ;
                rdfs:comment """Function Field class represents the value of the function in a Modbus frame. Each operation identified with a human readable name have a corresponding code.
The response function code corresponds exactly to the request function code sent by the client when no error occurs. 
On the contrary, the response operation is identified with an error code or exception function code corresponding to the request function code + 0x80."""@en ;
                rdfs:label "Function Field" .


###  https://www.w3.org/2019/wot/modbus#Message
:Message rdf:type owl:Class ;
         rdfs:comment "A Modbus Message class represents the comunication between client and server"@en ;
         rdfs:isDefinedBy <https://www.w3.org/2019/wot/modbus> ;
         rdfs:label "A Modbus Message"@en .


###  https://www.w3.org/2019/wot/modbus#Payload
:Payload rdf:type owl:Class ;
         rdfs:comment "In a Modbus message the content of a requested operation (sent by client to server) or of a response (elaborated by server and sent to client) is expressed with a specific code. This code is made by two field: function field and data field."@en ;
         rdfs:label "Payload"@en .


###  https://www.w3.org/2019/wot/modbus#Request
:Request rdf:type owl:Class ;
         rdfs:subClassOf :Message ;
         rdfs:comment "A Request message is sent by a client device to a server device. The comunication client/server stats only with a request sent by the client."@en ;
         rdfs:label "Request"@en .


###  https://www.w3.org/2019/wot/modbus#Response
:Response rdf:type owl:Class ;
          rdfs:subClassOf :Message ;
          rdfs:comment "A Response message is sent by a server device to client device in return to a client's query."@en ;
          rdfs:label "Response"@en .


###  https://www.w3.org/2019/wot/modbus#ResponseCode
:ResponseCode rdf:type owl:Class ;
              owl:equivalentClass [ rdf:type owl:Class ;
                                    owl:oneOf ( <https://www.w3.org/2019/wot/modbus/errorCode#01>
                                                <https://www.w3.org/2019/wot/modbus/errorCode#02>
                                                <https://www.w3.org/2019/wot/modbus/errorCode#03>
                                                <https://www.w3.org/2019/wot/modbus/errorCode#04>
                                                <https://www.w3.org/2019/wot/modbus/errorCode#05>
                                                <https://www.w3.org/2019/wot/modbus/errorCode#06>
                                              )
                                  ] ;
              rdfs:subClassOf :Data_Field ;
              rdfs:comment "For an Exception Response, the server returns an exception code as data response field. Exception code defines the server condition that caused the exception as well as the reason of the error."@en ;
              rdfs:label "exception code"@en .


###  https://www.w3.org/2019/wot/modbus#data_request
:data_request rdf:type owl:Class ;
              rdfs:subClassOf :Data_Field ;
              rdfs:comment """Data request contains additional information sent from a client to server that the server uses to take the action defined by the function code. 
This can include items like discree and register address, the quantity of items to be handled, and the count of actual data bytes in the field.
The data request field my be nonexistent (zero length) in certain kid of requests, in this case the server does not require any additional information. The function code alone specifies the action."""@en ;
              rdfs:label "data request" .


###  https://www.w3.org/2019/wot/modbus#data_response
:data_response rdf:type owl:Class ;
               rdfs:subClassOf :Data_Field ;
               rdfs:comment "Data response contains the informations requested by the client to the server."@en ;
               rdfs:label "data response" .


###  https://www.w3.org/2019/wot/modbus#erorr_code
:erorr_code rdf:type owl:Class ;
            rdfs:subClassOf :Function_Field ;
            rdfs:comment "In case of error, the server elaborates a response replacing the normal function code with an error code (or exception function code) corresponding to the request function code +0x80."@en ;
            rdfs:label "error code" .


###  https://www.w3.org/2019/wot/modbus#exception_response
:exception_response rdf:type owl:Class ;
                    rdfs:subClassOf :Response ;
                    rdfs:comment "Response sent by server to client when error occurs." ;
                    rdfs:label "exception response" .


###  https://www.w3.org/2019/wot/modbus#normal_response
:normal_response rdf:type owl:Class ;
                 rdfs:subClassOf :Response ;
                 rdfs:label "Response sent by server to client when no error occurs." ,
                            "normal response" .


#################################################################
#    Individuals
#################################################################

###  https://www.w3.org/2019/wot/modbus#Coil
:Coil rdf:type owl:NamedIndividual ,
               :Entity ;
      rdfs:comment "Represent a modbus coil register.  These entities can be read or written"@en ;
      rdfs:label "Coil"@en .


###  https://www.w3.org/2019/wot/modbus#DiscreteInput
:DiscreteInput rdf:type owl:NamedIndividual ,
                        :Entity ;
               rdfs:comment "Represent a modbus discrete input. These entities can only be read"@en ;
               rdfs:label "Discrete Input"@en .


###  https://www.w3.org/2019/wot/modbus#HoldingRegister
:HoldingRegister rdf:type owl:NamedIndividual ,
                          :Entity ;
                 rdfs:comment "Represent a modbus holding register.  These entities can be read or written"@en ;
                 rdfs:label "Holding Register"@en .


###  https://www.w3.org/2019/wot/modbus#InputRegister
:InputRegister rdf:type owl:NamedIndividual ,
                        :Entity ;
               rdfs:comment "Represent a modbus input register. These entities can only be read"@en ;
               rdfs:label "Input Register"@en .


###  https://www.w3.org/2019/wot/modbus#encodingOption
:encodingOption rdf:type owl:NamedIndividual ,
                         xsd:string .


###  https://www.w3.org/2019/wot/modbus#readCoil
:readCoil rdf:type owl:NamedIndividual ;
          rdfs:comment "Read a single coil (i.e. boolean/bit access) value. Usually in the address range 00001-09999"@en ;
          rdfs:label "Read Single Coils"@en .


###  https://www.w3.org/2019/wot/modbus#readDiscreteInput
:readDiscreteInput rdf:type owl:NamedIndividual ;
                   rdfs:comment "Read Physical Discrete Inputs (bit access). Address range 10001-19999"@en ;
                   rdfs:label "Read Discrete Inputs"@en .


###  https://www.w3.org/2019/wot/modbus#readHoldingRegisters
:readHoldingRegisters rdf:type owl:NamedIndividual ;
                      rdfs:comment "Read Multiple Holding Registers (16 bit access). Address range 40001-49999"@en ;
                      rdfs:label "Read Multiple Holding Registers"@en .


###  https://www.w3.org/2019/wot/modbus#readInputRegisters
:readInputRegisters rdf:type owl:NamedIndividual ;
                    rdfs:comment "Read Multiple Physical Input Registers (16 bits). Address range 30001-39999"@en ;
                    rdfs:label "Read Multiple Input Registers"@en .


###  https://www.w3.org/2019/wot/modbus#writeMultipleCoils
:writeMultipleCoils rdf:type owl:NamedIndividual ;
                    rdfs:comment "Write Multiple Physical Coils (internal bits). Address range 00001-09999"@en ;
                    rdfs:label "Write Multiple Coils"@en .


###  https://www.w3.org/2019/wot/modbus#writeMultipleHoldingRegisters
:writeMultipleHoldingRegisters rdf:type owl:NamedIndividual ;
                               rdfs:comment "Write Multiple Holding Registers (output registers, 16 bit). Address range 40001-49999"@en ;
                               rdfs:label "Write Multiple Holding Registers"@en .


###  https://www.w3.org/2019/wot/modbus#writeSingleCoil
:writeSingleCoil rdf:type owl:NamedIndividual ;
                 rdfs:comment "Write Single Physical Coil (internal bit). Address range 00001-09999"@en ;
                 rdfs:label "Write Single Coil"@en .


###  https://www.w3.org/2019/wot/modbus#writeSingleHoldingRegister
:writeSingleHoldingRegister rdf:type owl:NamedIndividual ;
                            rdfs:comment "Write Single HoldingRegister (internal bits). Address range 40001-49999"@en ;
                            rdfs:label "Write Single HoldingRegister"@en .


###  https://www.w3.org/2019/wot/modbus/errorCode#01
<https://www.w3.org/2019/wot/modbus/errorCode#01> rdf:type owl:NamedIndividual ,
                                                           :ResponseCode ;
                                                  rdfs:comment "Function code received in the query is not recognized or allowed by slave"@en ;
                                                  rdfs:label "ILLEGAL FUNCTION"@en .


###  https://www.w3.org/2019/wot/modbus/errorCode#02
<https://www.w3.org/2019/wot/modbus/errorCode#02> rdf:type owl:NamedIndividual ,
                                                           :ResponseCode ;
                                                  rdfs:comment "Data address of some or all the required entities are not allowed or do not exist in slave"@en ;
                                                  rdfs:label "ILLEGAL DATA ADDRESS"@en .


###  https://www.w3.org/2019/wot/modbus/errorCode#03
<https://www.w3.org/2019/wot/modbus/errorCode#03> rdf:type owl:NamedIndividual ,
                                                           :ResponseCode ;
                                                  rdfs:comment "Value is not accepted by slave"@en ;
                                                  rdfs:label "ILLEGAL DATA VALUE"@en .


###  https://www.w3.org/2019/wot/modbus/errorCode#04
<https://www.w3.org/2019/wot/modbus/errorCode#04> rdf:type owl:NamedIndividual ,
                                                           :ResponseCode ;
                                                  rdfs:comment "An unrecoverable error occurred while the slave was attempting to perform the requested action"@en ;
                                                  rdfs:label "SLAVEDEVICE FAILURE" .


###  https://www.w3.org/2019/wot/modbus/errorCode#05
<https://www.w3.org/2019/wot/modbus/errorCode#05> rdf:type owl:NamedIndividual ,
                                                           :ResponseCode ;
                                                  rdfs:comment "The server has accepted the request and is processing it, but a long duration of time will be required to do so. This response is returned to prevent a timeout error from occurring in the client. The client can next issue a Poll Program Complete  message to determine if processing is completed"@en ;
                                                  rdfs:label "ACKNOWLEDGE" .


###  https://www.w3.org/2019/wot/modbus/errorCode#06
<https://www.w3.org/2019/wot/modbus/errorCode#06> rdf:type owl:NamedIndividual ,
                                                           :ResponseCode ;
                                                  rdfs:comment "Slave is engaged in processing a long-duration command. Master should retry later "@en ;
                                                  rdfs:label "SLAVEDEVICE BUISY"@en .


###  https://www.w3.org/2019/wot/modbus/functionCode#readCoil
<https://www.w3.org/2019/wot/modbus/functionCode#readCoil> rdf:type owl:NamedIndividual ,
                                                                    :Function ;
                                                           rdfs:comment "Read a single coil (i.e. boolean/bit access) value. Usually in the address range 00001-09999"@en ;
                                                           rdfs:label "Read Single Coils"@en .


###  https://www.w3.org/2019/wot/modbus/functionCode#readDevicieIdentification
<https://www.w3.org/2019/wot/modbus/functionCode#readDevicieIdentification> rdf:type owl:NamedIndividual ,
                                                                                     :Function ;
                                                                            rdfs:comment "Read Device Identification for diagnostic purposes. Avaiable in the majority of Modbus implementations"@en ;
                                                                            rdfs:label "Read Device Identification"@en .


###  https://www.w3.org/2019/wot/modbus/functionCode#readDiscreteInput
<https://www.w3.org/2019/wot/modbus/functionCode#readDiscreteInput> rdf:type owl:NamedIndividual ,
                                                                             :Function ;
                                                                    rdfs:comment "Read Physical Discrete Inputs (bit access). Address range 10001-19999"@en ;
                                                                    rdfs:label "Read Discrete Inputs"@en .


###  https://www.w3.org/2019/wot/modbus/functionCode#readHoldingRegisters
<https://www.w3.org/2019/wot/modbus/functionCode#readHoldingRegisters> rdf:type owl:NamedIndividual ,
                                                                                :Function ;
                                                                       rdfs:comment "Read Multiple Holding Registers (16 bit access). Address range 40001-49999"@en ;
                                                                       rdfs:label "Read Multiple Holding Registers"@en .


###  https://www.w3.org/2019/wot/modbus/functionCode#readInputRegisters
<https://www.w3.org/2019/wot/modbus/functionCode#readInputRegisters> rdf:type owl:NamedIndividual ,
                                                                              :Function ;
                                                                     rdfs:comment "Read Multiple Physica Input Registers (16 bits). Address range 30001-39999"@en ;
                                                                     rdfs:label "Read Multiple Input Registers"@en .


###  https://www.w3.org/2019/wot/modbus/functionCode#writeMultipleCoils
<https://www.w3.org/2019/wot/modbus/functionCode#writeMultipleCoils> rdf:type owl:NamedIndividual ,
                                                                              :Function ;
                                                                     rdfs:comment "Write Multiple Physical Coils (internal bits). Address range 00001-09999"@en ;
                                                                     rdfs:label "Write Multiple Coils"@en .


###  https://www.w3.org/2019/wot/modbus/functionCode#writeMultipleHoldingRegisters
<https://www.w3.org/2019/wot/modbus/functionCode#writeMultipleHoldingRegisters> rdf:type owl:NamedIndividual ,
                                                                                         :Function ;
                                                                                rdfs:comment "Write Multiple Holding Registers (output registers, 16 bit). Address range 40001-49999"@en ;
                                                                                rdfs:label "Write Multiple Holding Registers"@en .


###  https://www.w3.org/2019/wot/modbus/functionCode#writeSingleCoil
<https://www.w3.org/2019/wot/modbus/functionCode#writeSingleCoil> rdf:type owl:NamedIndividual ,
                                                                           :Function ;
                                                                  rdfs:comment "Write Single Physical Coil (internal bit). Address range 00001-09999"@en ;
                                                                  rdfs:label "Write Single Coil"@en .


###  https://www.w3.org/2019/wot/modbus/functionCode#writeSingleHoldingRegister
<https://www.w3.org/2019/wot/modbus/functionCode#writeSingleHoldingRegister> rdf:type owl:NamedIndividual ,
                                                                                      :Function ;
                                                                             rdfs:comment "Write Single HoldingRegister (internal bits). Address range 40001-49999"@en ;
                                                                             rdfs:label "Write Single HoldingRegister"@en .


###  Generated by the OWL API (version 4.5.9.2019-02-01T07:24:44Z) https://github.com/owlcs/owlapi
